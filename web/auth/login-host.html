<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Pinot - Iniciar Sesión</title>
  <meta name="theme-color" content="#6b21a8" />
  <meta name="description" content="Inicia sesión como anfitrión" />
  <base href="/">
  
  <script>
    // Suprimir warning de producción de Tailwind CDN antes de cargar
    const originalWarn = console.warn;
    console.warn = function(...args) {
      if (args[0] && typeof args[0] === 'string' && args[0].includes('cdn.tailwindcss.com should not be used in production')) {
        return;
      }
      originalWarn.apply(console, args);
    };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    setTimeout(() => {
      console.warn = console.warn || (() => {});
    }, 1000);
  </script>
  
  <!-- Fuentes personalizadas -->
  <link rel="stylesheet" href="/css/fonts.css">
  
  <style>
    body { 
      font-family: system-ui, -apple-system, Inter, Segoe UI, Roboto, sans-serif; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .glass-effect {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .input-focus:focus {
      outline: none;
      ring: 2px;
      ring-color: rgba(255, 255, 255, 0.5);
      border-color: rgba(255, 255, 255, 0.5);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
    
    .btn-primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .spinner {
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      display: inline-block;
      margin-right: 8px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .success-message {
      background: rgba(34, 197, 94, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.3);
      backdrop-filter: blur(10px);
    }
    
    .error-message {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      backdrop-filter: blur(10px);
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
  <div class="w-full max-w-md">
    <!-- Logo/Header -->
    <div class="text-center mb-8 fade-in">
      <h1 class="text-4xl font-bold text-white mb-2 font-branding">Pinot</h1>
      <p class="text-white/80 text-lg">Iniciar Sesión</p>
    </div>
    
    <!-- Formulario de Login -->
    <div class="glass-effect rounded-2xl p-8 shadow-2xl fade-in">
      <form id="formLoginHost" class="space-y-6">
        <!-- Email -->
        <div>
          <label for="loginEmail" class="block text-white font-medium mb-2">
            Correo Electrónico <span class="text-red-300">*</span>
          </label>
          <input
            type="email"
            id="loginEmail"
            name="loginEmail"
            required
            placeholder="tu@email.com"
            class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/50 border border-white/30 input-focus focus:bg-white/30 transition-all"
            autocomplete="email"
          />
        </div>
        
        <!-- Sesión ID (opcional, para anfitriones efímeros) -->
        <div>
          <label for="loginSesionId" class="block text-white font-medium mb-2">
            ID de Sesión <span class="text-white/60 text-xs">(opcional)</span>
          </label>
          <input
            type="text"
            id="loginSesionId"
            name="loginSesionId"
            placeholder="ANF-..."
            class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/50 border border-white/30 input-focus focus:bg-white/30 transition-all"
            autocomplete="off"
          />
          <p class="text-white/60 text-xs mt-1">Si tienes un ID de sesión guardado, ingrésalo aquí</p>
        </div>
        
        <!-- Mensajes de error/éxito -->
        <div id="loginMensaje" class="hidden rounded-lg p-4 text-sm"></div>
        
        <!-- Botón Submit -->
        <button
          type="submit"
          id="btnLoginEnviar"
          class="w-full btn-primary text-white font-semibold py-3 rounded-lg shadow-lg"
        >
          <span id="btnLoginText">Ingresar</span>
        </button>
        
        <!-- Link a signup -->
        <div class="text-center mt-4">
          <a href="/auth/signup-host-e.html" class="text-white/80 hover:text-white text-sm underline">
            Crear nueva cuenta
          </a>
        </div>
        
        <!-- Link a inicio -->
        <div class="text-center mt-4">
          <a href="/" class="text-white/80 hover:text-white text-sm underline">
            Volver al inicio
          </a>
        </div>
      </form>
    </div>
    
    <!-- Footer -->
    <div class="text-center mt-8 text-white/60 text-sm">
      <p>Al iniciar sesión, aceptas nuestros términos de servicio</p>
    </div>
  </div>
  
  <script type="module" src="/js/signup-host-e.js"></script>
</body>
</html>


